<UserControl x:Class="EquipmentDesigner.Views.ComponentListView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:lex="http://wpflocalizeextension.codeplex.com"
             xmlns:services="clr-namespace:EquipmentDesigner.Services"
             xmlns:converters="clr-namespace:EquipmentDesigner.Converters"
             xmlns:controls="clr-namespace:EquipmentDesigner.Controls"
             lex:LocalizeDictionary.DesignCulture="ko"
             lex:ResxLocalizationProvider.DefaultAssembly="EquipmentDesigner"
             lex:ResxLocalizationProvider.DefaultDictionary="Resources.Strings"
             mc:Ignorable="d"
             Background="{StaticResource Brush.Background.Secondary}"
             d:DesignHeight="800" d:DesignWidth="1200">

    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        <converters:ComponentStateToBackgroundConverter x:Key="ComponentStateToBackgroundConverter"/>
        <converters:ComponentStateToForegroundConverter x:Key="ComponentStateToForegroundConverter"/>
        <converters:StringToVisibilityConverter x:Key="StringToVisibilityConverter"/>
    </UserControl.Resources>

    <Grid>
        <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
            <StackPanel Margin="{StaticResource Spacing.Padding.2XL}">
                <!-- Header Section -->
                <StackPanel Margin="0,0,0,32">
                    <!-- Back Button -->
                    <Button Command="{Binding NavigateBackCommand}"
                            Background="Transparent"
                            BorderThickness="0"
                            Cursor="Hand"
                            Padding="0"
                            HorizontalAlignment="Left"
                            Margin="0,0,0,16">
                        <StackPanel Orientation="Horizontal">
                            <Path Data="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"
                                  Fill="{StaticResource Brush.Status.Info}"
                                  Width="16" Height="16"
                                  Stretch="Uniform"
                                  VerticalAlignment="Center"
                                  Margin="0,0,8,0"/>
                            <TextBlock Text="{lex:Loc Key=Common_Back}"
                                       Style="{StaticResource Typography.Body}"
                                       Foreground="{StaticResource Brush.Status.Info}"
                                       VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>

                    <!-- Title Row with Search Button -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!-- Title -->
                        <TextBlock Grid.Column="0"
                                   Text="{lex:Loc Key=ComponentList_SelectExistingHardware}"
                                   Style="{StaticResource Typography.H3}"
                                   Foreground="{StaticResource Brush.Text.Primary}"
                                   VerticalAlignment="Center"/>

                        <!-- Search Button (UI only) -->
                        <Button Grid.Column="1"
                                Background="{StaticResource Brush.Button.Primary.Background}"
                                BorderThickness="0"
                                Cursor="Hand"
                                Padding="16,8"
                                VerticalAlignment="Center">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border x:Name="ButtonBorder"
                                                        Background="{StaticResource Brush.Button.Primary.Background}"
                                                        CornerRadius="{StaticResource Radius.LG}"
                                                        Padding="{TemplateBinding Padding}">
                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource Brush.Button.Primary.Background.Hover}"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Button.Style>
                            <StackPanel Orientation="Horizontal">
                                <Path Data="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                                      Fill="{StaticResource Brush.Text.Inverse}"
                                      Width="16" Height="16"
                                      Stretch="Uniform"
                                      VerticalAlignment="Center"
                                      Margin="0,0,8,0"/>
                                <TextBlock Text="{lex:Loc Key=Common_Search}"
                                           Style="{StaticResource Typography.Body}"
                                           Foreground="{StaticResource Brush.Text.Inverse}"
                                           VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                    </Grid>

                    <!-- Subtitle -->
                    <TextBlock Text="{lex:Loc Key=ComponentList_SelectExistingHardware_Description}"
                               Style="{StaticResource Typography.Body.Large}"
                               Foreground="{StaticResource Brush.Text.Secondary}"
                               Margin="0,8,0,0"/>
                </StackPanel>

                <!-- Component Lists Section (2x2 Grid) -->
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="24"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Equipments Card -->
                    <controls:DefaultWhiteCard Grid.Row="0" Grid.Column="0"
                                               IsClickable="False"
                                               CardPadding="0"
                                               Margin="0,0,0,24"
                                               MinHeight="400">
                        <controls:DefaultWhiteCard.CardContent>
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <!-- Header with Icon -->
                                <Border Grid.Row="0"
                                        BorderBrush="{StaticResource Brush.Border.Primary}"
                                        BorderThickness="0,0,0,1"
                                        Padding="24">
                                    <StackPanel Orientation="Horizontal">
                                        <Border Background="{StaticResource Brush.Status.Info.Background}"
                                                Width="48" Height="48"
                                                CornerRadius="{StaticResource Radius.Full}">
                                            <Path Data="M21 8.00002C20.9996 7.6493 20.9071 7.30483 20.7315 7.00119C20.556 6.69754 20.3037 6.44539 20 6.27002L13 2.27002C12.696 2.09449 12.3511 2.00208 12 2.00208C11.6489 2.00208 11.304 2.09449 11 2.27002L4 6.27002C3.69626 6.44539 3.44398 6.69754 3.26846 7.00119C3.09294 7.30483 3.00036 7.6493 3 8.00002V16C3.00036 16.3508 3.09294 16.6952 3.26846 16.9989C3.44398 17.3025 3.69626 17.5547 4 17.73L11 21.73C11.304 21.9056 11.6489 21.998 12 21.998C12.3511 21.998 12.696 21.9056 13 21.73L20 17.73C20.3037 17.5547 20.556 17.3025 20.7315 16.9989C20.9996 16.6952 21 16.3508 21 16V8.00002Z
                                                M3.3 7L12 12L20.7 7
                                                M12 22V12"
                                              Stroke="{StaticResource Brush.Status.Info}"
                                              StrokeThickness="2"
                                              Fill="Transparent"
                                              Width="32" Height="32"
                                              Stretch="Uniform"
                                              HorizontalAlignment="Center"
                                              VerticalAlignment="Center"/>
                                        </Border>
                                        <TextBlock Style="{StaticResource Typography.H4}"
                                                   Foreground="{StaticResource Brush.Text.Primary}"
                                                   VerticalAlignment="Center"
                                                   Margin="12,0,0,0">
                                            <Run Text="{lex:Loc Key=Dashboard_Equipments}"/>
                                            <Run Text=" ("/>
                                            <Run Text="{Binding EquipmentsCount, Mode=OneWay}"/>
                                            <Run Text=")"/>
                                        </TextBlock>
                                    </StackPanel>
                                </Border>

                                <!-- List Content -->
                                <ScrollViewer Grid.Row="1"
                                              VerticalScrollBarVisibility="Auto"
                                              HorizontalScrollBarVisibility="Disabled"
                                              Padding="24,24,16,24">
                                    <StackPanel>
                                        <ItemsControl ItemsSource="{Binding Equipments}">
                                            <ItemsControl.ItemsPanel>
                                                <ItemsPanelTemplate>
                                                    <StackPanel/>
                                                </ItemsPanelTemplate>
                                            </ItemsControl.ItemsPanel>
                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <controls:DefaultWhiteCard Command="{Binding DataContext.ViewComponentCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                                                               CommandParameter="{Binding}"
                                                                               CardPadding="16"
                                                                               Margin="0,0,0,16">
                                                        <controls:DefaultWhiteCard.CardContent>
                                                            <StackPanel>
                                                                <TextBlock Text="{Binding Version}"
                                                                           Style="{StaticResource Typography.Body.Small}"
                                                                           Foreground="{StaticResource Brush.Text.Secondary}"/>
                                                                <TextBlock Text="{Binding Name}"
                                                                           Style="{StaticResource Typography.Body.Large}"
                                                                           FontWeight="{StaticResource Font.Weight.Medium}"
                                                                           Foreground="{StaticResource Brush.Text.Primary}"
                                                                           Margin="0,8,0,0"/>
                                                                <TextBlock Text="{Binding Description}"
                                                                           Style="{StaticResource Typography.Body}"
                                                                           Foreground="{StaticResource Brush.Text.Secondary}"
                                                                           TextTrimming="CharacterEllipsis"
                                                                           Margin="0,8,0,0"/>
                                                                <controls:StateChip Text="{Binding Status}"
                                                                                    ChipBackground="{StaticResource Brush.Status.Neutral.Background}"
                                                                                    ChipForeground="{StaticResource Brush.Text.Secondary}"
                                                                                    Margin="0,16,0,0"
                                                                                    HorizontalAlignment="Left"/>
                                                            </StackPanel>
                                                        </controls:DefaultWhiteCard.CardContent>
                                                    </controls:DefaultWhiteCard>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>

                                        <!-- Empty State -->
                                        <TextBlock Text="{lex:Loc Key=Dashboard_NoEquipments}"
                                                   Style="{StaticResource Typography.Body.Large}"
                                                   Foreground="{StaticResource Brush.Text.Secondary}"
                                                   HorizontalAlignment="Center"
                                                   Visibility="{Binding HasNoEquipments, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                                    </StackPanel>
                                </ScrollViewer>
                            </Grid>
                        </controls:DefaultWhiteCard.CardContent>
                    </controls:DefaultWhiteCard>

                    <!-- Systems Card -->
                    <controls:DefaultWhiteCard Grid.Row="0" Grid.Column="2"
                                               IsClickable="False"
                                               CardPadding="0"
                                               Margin="0,0,0,24"
                                               MinHeight="400">
                        <controls:DefaultWhiteCard.CardContent>
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <!-- Header with Icon -->
                                <Border Grid.Row="0"
                                        BorderBrush="{StaticResource Brush.Border.Primary}"
                                        BorderThickness="0,0,0,1"
                                        Padding="24">
                                    <StackPanel Orientation="Horizontal">
                                        <Border Background="{StaticResource Brush.Status.Info.Background}"
                                                Width="48" Height="48"
                                                CornerRadius="{StaticResource Radius.Full}">
                                            <Path Data="M12 2L2 7l10 5 10-5M2 17l10 5 10-5M2 12l10 5 10-5"
                                                  Stroke="{StaticResource Brush.Status.Info}"
                                                  StrokeThickness="2"
                                                  Fill="Transparent"
                                                  Width="32" Height="32"
                                                  Stretch="Uniform"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"/>
                                        </Border>
                                        <TextBlock Style="{StaticResource Typography.H4}"
                                                   Foreground="{StaticResource Brush.Text.Primary}"
                                                   VerticalAlignment="Center"
                                                   Margin="12,0,0,0">
                                            <Run Text="{lex:Loc Key=Dashboard_Systems}"/>
                                            <Run Text=" ("/>
                                            <Run Text="{Binding SystemsCount, Mode=OneWay}"/>
                                            <Run Text=")"/>
                                        </TextBlock>
                                    </StackPanel>
                                </Border>

                                <!-- List Content -->
                                <ScrollViewer Grid.Row="1"
                                              VerticalScrollBarVisibility="Auto"
                                              HorizontalScrollBarVisibility="Disabled"
                                              Padding="24,24,16,24">
                                    <StackPanel>
                                        <ItemsControl ItemsSource="{Binding Systems}">
                                            <ItemsControl.ItemsPanel>
                                                <ItemsPanelTemplate>
                                                    <StackPanel/>
                                                </ItemsPanelTemplate>
                                            </ItemsControl.ItemsPanel>
                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <controls:DefaultWhiteCard Command="{Binding DataContext.ViewComponentCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                                                               CommandParameter="{Binding}"
                                                                               CardPadding="16"
                                                                               Margin="0,0,0,16">
                                                        <controls:DefaultWhiteCard.CardContent>
                                                            <StackPanel>
                                                                <TextBlock Text="{Binding Version}"
                                                                           Style="{StaticResource Typography.Body.Small}"
                                                                           Foreground="{StaticResource Brush.Text.Secondary}"/>
                                                                <TextBlock Text="{Binding Name}"
                                                                           Style="{StaticResource Typography.Body.Large}"
                                                                           FontWeight="{StaticResource Font.Weight.Medium}"
                                                                           Foreground="{StaticResource Brush.Text.Primary}"
                                                                           Margin="0,8,0,0"/>
                                                                <TextBlock Text="{Binding Description}"
                                                                           Style="{StaticResource Typography.Body}"
                                                                           Foreground="{StaticResource Brush.Text.Secondary}"
                                                                           TextTrimming="CharacterEllipsis"
                                                                           Margin="0,8,0,0"/>
                                                                <controls:StateChip Text="{Binding Status}"
                                                                                    ChipBackground="{StaticResource Brush.Status.Neutral.Background}"
                                                                                    ChipForeground="{StaticResource Brush.Text.Secondary}"
                                                                                    Margin="0,16,0,0"
                                                                                    HorizontalAlignment="Left"/>
                                                            </StackPanel>
                                                        </controls:DefaultWhiteCard.CardContent>
                                                    </controls:DefaultWhiteCard>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>

                                        <!-- Empty State -->
                                        <TextBlock Text="{lex:Loc Key=Dashboard_NoSystems}"
                                                   Style="{StaticResource Typography.Body.Large}"
                                                   Foreground="{StaticResource Brush.Text.Secondary}"
                                                   HorizontalAlignment="Center"
                                                   Visibility="{Binding HasNoSystems, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                                    </StackPanel>
                                </ScrollViewer>
                            </Grid>
                        </controls:DefaultWhiteCard.CardContent>
                    </controls:DefaultWhiteCard>

                    <!-- Units Card -->
                    <controls:DefaultWhiteCard Grid.Row="1" Grid.Column="0"
                                               IsClickable="False"
                                               CardPadding="0"
                                               MinHeight="400">
                        <controls:DefaultWhiteCard.CardContent>
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <!-- Header with Icon -->
                                <Border Grid.Row="0"
                                        BorderBrush="{StaticResource Brush.Border.Primary}"
                                        BorderThickness="0,0,0,1"
                                        Padding="24">
                                    <StackPanel Orientation="Horizontal">
                                        <Border Background="{StaticResource Brush.Status.Info.Background}"
                                                Width="48" Height="48"
                                                CornerRadius="{StaticResource Radius.Full}">
                                            <Path Stroke="{StaticResource Brush.Status.Info}"
                                                  StrokeThickness="2"
                                                  StrokeStartLineCap="Round"
                                                  StrokeEndLineCap="Round"
                                                  StrokeLineJoin="Round"
                                                  Data="M12 8V4H8
                                                        M18 8H6c-1.10457 0-2 .89543-2 2v8c0 1.1046.89543 2 2 2h12c1.1046 0 2-.8954 2-2v-8c0-1.10457-.8954-2-2-2z
                                                        M2 14h2
                                                        M20 14h2
                                                        M15 13v2
                                                        M9 13v2"
                                                  Stretch="Uniform"
                                                  Width="32" Height="32"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"/>
                                        </Border>
                                        <TextBlock Style="{StaticResource Typography.H4}"
                                                   Foreground="{StaticResource Brush.Text.Primary}"
                                                   VerticalAlignment="Center"
                                                   Margin="12,0,0,0">
                                            <Run Text="{lex:Loc Key=Dashboard_Units}"/>
                                            <Run Text=" ("/>
                                            <Run Text="{Binding UnitsCount, Mode=OneWay}"/>
                                            <Run Text=")"/>
                                        </TextBlock>
                                    </StackPanel>
                                </Border>

                                <!-- List Content -->
                                <ScrollViewer Grid.Row="1"
                                              VerticalScrollBarVisibility="Auto"
                                              HorizontalScrollBarVisibility="Disabled"
                                              Padding="24,24,16,24">
                                    <StackPanel>
                                        <ItemsControl ItemsSource="{Binding Units}">
                                            <ItemsControl.ItemsPanel>
                                                <ItemsPanelTemplate>
                                                    <StackPanel/>
                                                </ItemsPanelTemplate>
                                            </ItemsControl.ItemsPanel>
                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <controls:DefaultWhiteCard Command="{Binding DataContext.ViewComponentCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                                                               CommandParameter="{Binding}"
                                                                               CardPadding="16"
                                                                               Margin="0,0,0,16">
                                                        <controls:DefaultWhiteCard.CardContent>
                                                            <StackPanel>
                                                                <TextBlock Text="{Binding Version}"
                                                                           Style="{StaticResource Typography.Body.Small}"
                                                                           Foreground="{StaticResource Brush.Text.Secondary}"/>
                                                                <TextBlock Text="{Binding Name}"
                                                                           Style="{StaticResource Typography.Body.Large}"
                                                                           FontWeight="{StaticResource Font.Weight.Medium}"
                                                                           Foreground="{StaticResource Brush.Text.Primary}"
                                                                           Margin="0,8,0,0"/>
                                                                <TextBlock Text="{Binding Description}"
                                                                           Style="{StaticResource Typography.Body}"
                                                                           Foreground="{StaticResource Brush.Text.Secondary}"
                                                                           TextTrimming="CharacterEllipsis"
                                                                           Margin="0,8,0,0"/>
                                                                <controls:StateChip Text="{Binding Status}"
                                                                                    ChipBackground="{StaticResource Brush.Status.Neutral.Background}"
                                                                                    ChipForeground="{StaticResource Brush.Text.Secondary}"
                                                                                    Margin="0,16,0,0"
                                                                                    HorizontalAlignment="Left"/>
                                                            </StackPanel>
                                                        </controls:DefaultWhiteCard.CardContent>
                                                    </controls:DefaultWhiteCard>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>

                                        <!-- Empty State -->
                                        <TextBlock Text="{lex:Loc Key=Dashboard_NoUnits}"
                                                   Style="{StaticResource Typography.Body.Large}"
                                                   Foreground="{StaticResource Brush.Text.Secondary}"
                                                   HorizontalAlignment="Center"
                                                   Visibility="{Binding HasNoUnits, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                                    </StackPanel>
                                </ScrollViewer>
                            </Grid>
                        </controls:DefaultWhiteCard.CardContent>
                    </controls:DefaultWhiteCard>

                    <!-- Devices Card -->
                    <controls:DefaultWhiteCard Grid.Row="1" Grid.Column="2"
                                               IsClickable="False"
                                               CardPadding="0"
                                               MinHeight="400">
                        <controls:DefaultWhiteCard.CardContent>
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <!-- Header with Icon -->
                                <Border Grid.Row="0"
                                        BorderBrush="{StaticResource Brush.Border.Primary}"
                                        BorderThickness="0,0,0,1"
                                        Padding="24">
                                    <StackPanel Orientation="Horizontal">
                                        <Border Background="{StaticResource Brush.Status.Info.Background}"
                                                Width="48" Height="48"
                                                CornerRadius="{StaticResource Radius.Full}">
                                            <Path Data="M12 20C14.1217 20 16.1566 19.1571 17.6569 17.6569C19.1571 16.1566 20 14.1217 20 12C20 9.87827 19.1571 7.84344 17.6569 6.34315C16.1566 4.84285 14.1217 4 12 4C9.87827 4 7.84344 4.84285 6.34315 6.34315C4.84285 7.84344 4 9.87827 4 12C4 14.1217 4.84285 16.1566 6.34315 17.6569C7.84344 19.1571 9.87827 20 12 20Z M12 14C12.5304 14 13.0391 13.7893 13.4142 13.4142C13.7893 13.0391 14 12.5304 14 12C14 11.4696 13.7893 10.9609 13.4142 10.5858C13.0391 10.2107 12.5304 10 12 10C11.4696 10 10.9609 10.2107 10.5858 10.5858C10.2107 10.9609 10 11.4696 10 12C10 12.5304 10.2107 13.0391 10.5858 13.4142C10.9609 13.7893 11.4696 14 12 14Z M12 2V4 M12 22V20 M17 20.6601L16 18.9301 M11 10.27L7 3.33997 M20.66 17L18.93 16 M3.34003 7L5.07003 8 M14 12H22 M2 12H4 M20.66 7L18.93 8 M3.34003 17L5.07003 16 M17 3.33997L16 5.06997 M11 13.73L7 20.66"
                                                  Fill="Transparent"
                                                  Stroke="{StaticResource Brush.Status.Info}"
                                                  StrokeThickness="2"
                                                  StrokeStartLineCap="Round"
                                                  StrokeEndLineCap="Round"
                                                  StrokeLineJoin="Round"
                                                  Width="32" Height="32"
                                                  Stretch="Uniform"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Bottom" Margin="0,0,0,8"/>
                                        </Border>
                                        <TextBlock Style="{StaticResource Typography.H4}"
                                                   Foreground="{StaticResource Brush.Text.Primary}"
                                                   VerticalAlignment="Center"
                                                   Margin="12,0,0,0">
                                            <Run Text="{lex:Loc Key=Dashboard_Devices}"/>
                                            <Run Text=" ("/>
                                            <Run Text="{Binding DevicesCount, Mode=OneWay}"/>
                                            <Run Text=")"/>
                                        </TextBlock>
                                    </StackPanel>
                                </Border>

                                <!-- List Content -->
                                <ScrollViewer Grid.Row="1"
                                              VerticalScrollBarVisibility="Auto"
                                              HorizontalScrollBarVisibility="Disabled"
                                              Padding="24,24,16,24">
                                    <StackPanel>
                                        <ItemsControl ItemsSource="{Binding Devices}">
                                            <ItemsControl.ItemsPanel>
                                                <ItemsPanelTemplate>
                                                    <StackPanel/>
                                                </ItemsPanelTemplate>
                                            </ItemsControl.ItemsPanel>
                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <controls:DefaultWhiteCard Command="{Binding DataContext.ViewComponentCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                                                               CommandParameter="{Binding}"
                                                                               CardPadding="16"
                                                                               Margin="0,0,0,16">
                                                        <controls:DefaultWhiteCard.CardContent>
                                                            <StackPanel>
                                                                <TextBlock Text="{Binding Version}"
                                                                           Style="{StaticResource Typography.Body.Small}"
                                                                           Foreground="{StaticResource Brush.Text.Secondary}"/>
                                                                <TextBlock Text="{Binding Name}"
                                                                           Style="{StaticResource Typography.Body.Large}"
                                                                           FontWeight="{StaticResource Font.Weight.Medium}"
                                                                           Foreground="{StaticResource Brush.Text.Primary}"
                                                                           Margin="0,8,0,0"/>
                                                                <TextBlock Text="{Binding Description}"
                                                                           Style="{StaticResource Typography.Body}"
                                                                           Foreground="{StaticResource Brush.Text.Secondary}"
                                                                           TextTrimming="CharacterEllipsis"
                                                                           Margin="0,8,0,0"/>
                                                                <controls:StateChip Text="{Binding Status}"
                                                                                    ChipBackground="{StaticResource Brush.Status.Neutral.Background}"
                                                                                    ChipForeground="{StaticResource Brush.Text.Secondary}"
                                                                                    Margin="0,16,0,0"
                                                                                    HorizontalAlignment="Left"/>
                                                            </StackPanel>
                                                        </controls:DefaultWhiteCard.CardContent>
                                                    </controls:DefaultWhiteCard>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>

                                        <!-- Empty State -->
                                        <TextBlock Text="{lex:Loc Key=Dashboard_NoDevices}"
                                                   Style="{StaticResource Typography.Body.Large}"
                                                   Foreground="{StaticResource Brush.Text.Secondary}"
                                                   HorizontalAlignment="Center"
                                                   Visibility="{Binding HasNoDevices, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                                    </StackPanel>
                                </ScrollViewer>
                            </Grid>
                        </controls:DefaultWhiteCard.CardContent>
                    </controls:DefaultWhiteCard>
                </Grid>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>