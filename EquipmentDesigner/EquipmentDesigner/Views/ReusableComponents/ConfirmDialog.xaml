<Window x:Class="EquipmentDesigner.Controls.ConfirmDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        ShowInTaskbar="False"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Width="480" SizeToContent="Height">

    <!-- Dialog Container -->
    <Border Background="{StaticResource Brush.Surface.Primary}"
            BorderBrush="{StaticResource Brush.Border.Primary}"
            BorderThickness="1"
            CornerRadius="{StaticResource Radius.XL}"
            Padding="24">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Title -->
            <TextBlock Grid.Row="0"
                       x:Name="TitleText"
                       Style="{StaticResource Typography.H4}"
                       Foreground="{StaticResource Brush.Text.Primary}"/>

            <!-- Subtitle (Optional) -->
            <TextBlock Grid.Row="1"
                       x:Name="SubtitleText"
                       Style="{StaticResource Typography.Body}"
                       Foreground="{StaticResource Brush.Text.Primary}"
                       FontWeight="SemiBold"
                       TextWrapping="Wrap"
                       Margin="0,16,0,0"
                       Visibility="Collapsed"/>

            <!-- Description (Multiline) -->
            <TextBlock Grid.Row="2"
                       x:Name="DescriptionText"
                       Style="{StaticResource Typography.Body}"
                       Foreground="{StaticResource Brush.Text.Secondary}"
                       TextWrapping="Wrap"
                       Margin="0,8,0,0"/>

            <!-- Type confirmation instruction -->
            <TextBlock x:Name="TypeToConfirmText"
                       Grid.Row="3"
                       Margin="0,16,0,0"
                       FontSize="14"
                       Foreground="{StaticResource Brush.Text.Primary}"/>

            <!-- Text Input and Buttons -->
            <Grid Grid.Row="4" Margin="0,8,0,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <Border x:Name="InputBorder"
                        Grid.Row="0"
                        BorderBrush="{StaticResource Brush.Border.Primary}"
                        BorderThickness="1"
                        CornerRadius="{StaticResource Radius.LG}"
                        Height="42">
                    <TextBox x:Name="ConfirmationTextBox"
                             TextChanged="ConfirmationTextBox_TextChanged"
                             VerticalContentAlignment="Center"
                             Padding="12,8"
                             Background="Transparent"
                             BorderThickness="0"
                             FontSize="16"
                             Foreground="{StaticResource Brush.Text.Primary}"/>
                </Border>

                <!-- Placeholder Text -->
                <TextBlock x:Name="PlaceholderText"
                           Grid.Row="0"
                           Foreground="{StaticResource Brush.Text.Tertiary}"
                           FontSize="16"
                           Margin="13,0,0,0"
                           VerticalAlignment="Center"
                           IsHitTestVisible="False"/>

                <!-- Footer Buttons -->
                <StackPanel Grid.Row="1"
                            Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            Margin="0,16,0,0">
                    <!-- Cancel Button -->
                    <Button x:Name="CancelButton"
                            Click="CancelButton_Click"
                            Padding="16,8"
                            Height="38"
                            MinWidth="77"
                            Background="{StaticResource Brush.Surface.Primary}"
                            BorderBrush="{StaticResource Brush.Border.Primary}"
                            BorderThickness="1"
                            Cursor="Hand"
                            Margin="0,0,12,0">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="{StaticResource Radius.LG}"/>
                            </Style>
                        </Button.Resources>
                        <TextBlock x:Name="CancelButtonText"
                                   Style="{StaticResource Typography.Button}"
                                   Foreground="{StaticResource Brush.Text.Primary}"/>
                    </Button>

                    <!-- Confirm Button -->
                    <Button x:Name="ConfirmButton"
                            Click="ConfirmButton_Click"
                            IsEnabled="False"
                            Height="38"
                            MinWidth="72"
                            Cursor="Hand">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border x:Name="ButtonBorder"
                                        Background="{StaticResource Brush.Border.Secondary}"
                                        CornerRadius="{StaticResource Radius.LG}"
                                        Padding="16,8">
                                    <ContentPresenter HorizontalAlignment="Center"
                                                      VerticalAlignment="Center"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsEnabled" Value="True">
                                        <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource Brush.Button.Danger.Background}"/>
                                    </Trigger>
                                    <MultiTrigger>
                                        <MultiTrigger.Conditions>
                                            <Condition Property="IsEnabled" Value="True"/>
                                            <Condition Property="IsMouseOver" Value="True"/>
                                        </MultiTrigger.Conditions>
                                        <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource Brush.Button.Danger.Background.Hover}"/>
                                    </MultiTrigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                        <TextBlock x:Name="ConfirmButtonText"
                                   Style="{StaticResource Typography.Button}"
                                   Foreground="White"/>
                    </Button>
                </StackPanel>
            </Grid>
        </Grid>
    </Border>
</Window>