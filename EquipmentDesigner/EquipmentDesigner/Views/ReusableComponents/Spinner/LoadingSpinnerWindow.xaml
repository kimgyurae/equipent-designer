<Window x:Class="EquipmentDesigner.Controls.LoadingSpinnerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        mc:Ignorable="d"
        Title="LoadingSpinner"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ShowInTaskbar="False"
        Topmost="True"
        WindowState="Maximized"
        ResizeMode="NoResize">

    <Window.Resources>
        <!-- Rotation animation storyboard -->
        <Storyboard x:Key="SpinnerRotation" RepeatBehavior="Forever">
            <DoubleAnimation
                Storyboard.TargetName="SpinnerRotateTransform"
                Storyboard.TargetProperty="Angle"
                From="0" To="360"
                Duration="0:0:1"/>
        </Storyboard>

        <!-- Fade in animation -->
        <Storyboard x:Key="FadeIn">
            <DoubleAnimation
                Storyboard.TargetProperty="Opacity"
                From="0" To="1"
                Duration="0:0:0.2">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>

        <!-- Fade out animation -->
        <Storyboard x:Key="FadeOut">
            <DoubleAnimation
                Storyboard.TargetProperty="Opacity"
                From="1" To="0"
                Duration="0:0:0.2">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseIn"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
    </Window.Resources>

    <!-- Transparent full-screen overlay to block interaction -->
    <Grid Background="Transparent">
        <!-- Spinner container with rounded corners -->
        <Border HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Background="#1A1A1A"
                CornerRadius="{StaticResource Radius.MD}"
                Padding="30">

            <!-- Spinner Arc -->
            <Viewbox Width="52" Height="52">
                <Canvas Width="52" Height="52" RenderTransformOrigin="0.5,0.5">
                    <Canvas.RenderTransform>
                        <RotateTransform x:Name="SpinnerRotateTransform" Angle="0"/>
                    </Canvas.RenderTransform>
                    <Path StrokeThickness="4"
                          StrokeStartLineCap="Round"
                          StrokeEndLineCap="Round"
                          Stroke="{StaticResource Brush.Status.Info}">
                        <Path.Data>
                            <!-- Arc: 270 degrees of a circle -->
                            <!-- Center at (26,26), radius 22 -->
                            <PathGeometry>
                                <PathFigure StartPoint="10.44,41.56" IsClosed="False">
                                    <ArcSegment Point="41.56,41.56"
                                                Size="22,22"
                                                SweepDirection="Clockwise"
                                                IsLargeArc="True"/>
                                </PathFigure>
                            </PathGeometry>
                        </Path.Data>
                    </Path>
                </Canvas>
            </Viewbox>
        </Border>
    </Grid>
</Window>
