<Window x:Class="EquipmentDesigner.Views.ReusableComponents.ConfirmDeleteDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:lex="http://wpflocalizeextension.codeplex.com"
        lex:LocalizeDictionary.DesignCulture="ko"
        lex:ResxLocalizationProvider.DefaultAssembly="EquipmentDesigner"
        lex:ResxLocalizationProvider.DefaultDictionary="Resources.Strings"
        mc:Ignorable="d"
        Title="{lex:Loc Key=DeleteHardware_Title}"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        ShowInTaskbar="False"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Width="480" SizeToContent="Height">

    <!-- Dialog Container -->
    <Border Background="{StaticResource Brush.Surface.Primary}"
            BorderBrush="{StaticResource Brush.Border.Primary}"
            BorderThickness="1"
            CornerRadius="{StaticResource Radius.XL}"
            Padding="24">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Title -->
            <TextBlock Grid.Row="0"
                       Text="{lex:Loc Key=DeleteHardware_Title}"
                       Style="{StaticResource Typography.H4}"
                       Foreground="{StaticResource Brush.Text.Primary}"/>

            <!-- Item Name -->
            <TextBlock Grid.Row="1"
                       x:Name="ItemNameText"
                       Style="{StaticResource Typography.Body}"
                       Foreground="{StaticResource Brush.Text.Primary}"
                       FontWeight="SemiBold"
                       TextWrapping="Wrap"
                       Margin="0,16,0,0"/>

            <!-- Description -->
            <TextBlock Grid.Row="2"
                       Text="{lex:Loc Key=DeleteHardware_Description}"
                       Style="{StaticResource Typography.Body}"
                       Foreground="{StaticResource Brush.Text.Secondary}"
                       TextWrapping="Wrap"
                       Margin="0,8,0,0"/>

            <!-- Descendants Label -->
            <TextBlock Grid.Row="3"
                       x:Name="DescendantsLabel"
                       Text="{lex:Loc Key=DeleteHardware_DescendantsLabel}"
                       Style="{StaticResource Typography.Body}"
                       Foreground="{StaticResource Brush.Text.Secondary}"
                       Margin="0,12,0,4"
                       Visibility="Collapsed"/>

            <!-- Descendants List -->
            <Border Grid.Row="4"
                    x:Name="DescendantsBorder"
                    Background="{StaticResource Brush.Surface.Secondary}"
                    CornerRadius="{StaticResource Radius.MD}"
                    Padding="12,8"
                    MaxHeight="150"
                    Visibility="Collapsed">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <ItemsControl x:Name="DescendantsListControl">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal" Margin="0,2">
                                    <TextBlock Text="â€¢"
                                               Foreground="{StaticResource Brush.Text.Tertiary}"
                                               Margin="0,0,8,0"/>
                                    <TextBlock Text="{Binding}"
                                               Foreground="{StaticResource Brush.Text.Secondary}"
                                               Style="{StaticResource Typography.Caption}"/>
                                </StackPanel>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
            </Border>

            <!-- Type delete instruction -->
            <StackPanel Grid.Row="5" Orientation="Horizontal" Margin="0,16,0,0">
                <TextBlock Text="{lex:Loc Key=DeleteHardware_TypeInstruction}"
                           Foreground="{StaticResource Brush.Text.Primary}"
                           FontSize="14"/>
                <TextBlock Text=" "/>
                <TextBlock Text="{lex:Loc Key=DeleteHardware_DeleteKeyword}"
                           Foreground="{StaticResource Brush.Status.Danger}"
                           FontWeight="Bold"
                           FontSize="14"/>
                <TextBlock Text="{lex:Loc Key=DeleteHardware_ToConfirm}"
                           Foreground="{StaticResource Brush.Text.Primary}"
                           FontSize="14"/>
            </StackPanel>

            <!-- Text Input Container -->
            <Grid Grid.Row="6" Margin="0,8,0,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <Border x:Name="InputBorder"
                        Grid.Row="0"
                        BorderBrush="{StaticResource Brush.Border.Primary}"
                        BorderThickness="1"
                        CornerRadius="{StaticResource Radius.LG}"
                        Height="42">
                    <TextBox x:Name="ConfirmationTextBox"
                             TextChanged="ConfirmationTextBox_TextChanged"
                             VerticalContentAlignment="Center"
                             Padding="12,8"
                             Background="Transparent"
                             BorderThickness="0"
                             FontSize="16"
                             Foreground="{StaticResource Brush.Text.Primary}"/>
                </Border>

                <!-- Placeholder Text -->
                <TextBlock x:Name="PlaceholderText"
                           Grid.Row="0"
                           Text="{lex:Loc Key=DeleteHardware_Placeholder}"
                           Foreground="{StaticResource Brush.Text.Tertiary}"
                           FontSize="16"
                           Margin="13,0,0,0"
                           VerticalAlignment="Center"
                           IsHitTestVisible="False"/>

                <!-- Footer Buttons -->
                <StackPanel Grid.Row="1"
                            Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            Margin="0,16,0,0">
                    <!-- Cancel Button -->
                    <Button x:Name="CancelButton"
                            Click="CancelButton_Click"
                            Padding="16,8"
                            Height="38"
                            MinWidth="77"
                            Background="{StaticResource Brush.Surface.Primary}"
                            BorderBrush="{StaticResource Brush.Border.Primary}"
                            BorderThickness="1"
                            Cursor="Hand"
                            Margin="0,0,12,0">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="{StaticResource Radius.LG}"/>
                            </Style>
                        </Button.Resources>
                        <TextBlock Text="{lex:Loc Key=Common_Cancel}"
                                   Style="{StaticResource Typography.Button}"
                                   Foreground="{StaticResource Brush.Text.Primary}"/>
                    </Button>

                    <!-- Delete Button -->
                    <Button x:Name="DeleteButton"
                            Click="DeleteButton_Click"
                            IsEnabled="False"
                            Height="38"
                            MinWidth="72"
                            Cursor="Hand">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border x:Name="ButtonBorder"
                                        Background="{StaticResource Brush.Border.Secondary}"
                                        CornerRadius="{StaticResource Radius.LG}"
                                        Padding="16,8">
                                    <ContentPresenter HorizontalAlignment="Center"
                                                      VerticalAlignment="Center"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsEnabled" Value="True">
                                        <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource Brush.Button.Danger.Background}"/>
                                    </Trigger>
                                    <MultiTrigger>
                                        <MultiTrigger.Conditions>
                                            <Condition Property="IsEnabled" Value="True"/>
                                            <Condition Property="IsMouseOver" Value="True"/>
                                        </MultiTrigger.Conditions>
                                        <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource Brush.Button.Danger.Background.Hover}"/>
                                    </MultiTrigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                        <TextBlock Text="{lex:Loc Key=DeleteHardware_DeleteButton}"
                                   Style="{StaticResource Typography.Button}"
                                   Foreground="White"/>
                    </Button>
                </StackPanel>
            </Grid>
        </Grid>
    </Border>
</Window>
