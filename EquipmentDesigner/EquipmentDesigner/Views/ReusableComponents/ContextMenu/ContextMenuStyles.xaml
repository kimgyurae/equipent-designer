<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:EquipmentDesigner.Controls">

    <!-- ============================================================
         Context Menu Styles
         Figma Design: https://www.figma.com/design/BWmKqBOfrI3vj1uyI6gqt2
         Node: 59-273
         ============================================================ -->

    <!-- Border Brush for Context Menu (rgba(0,0,0,0.1) from Figma) -->
    <SolidColorBrush x:Key="ContextMenu.Border" Color="#1A000000"/>

    <!-- Hover Background for Menu Items -->
    <SolidColorBrush x:Key="ContextMenu.Item.Hover" Color="{StaticResource Color.Gray.100}"/>

    <!-- Pressed Background for Menu Items -->
    <SolidColorBrush x:Key="ContextMenu.Item.Pressed" Color="{StaticResource Color.Gray.200}"/>

    <!-- Separator/Divider Brush -->
    <SolidColorBrush x:Key="ContextMenu.Separator" Color="{StaticResource Color.Gray.200}"/>

    <!-- Chevron Path Data -->
    <StreamGeometry x:Key="ChevronRightPath">M 0,0 L 5,4 L 0,8</StreamGeometry>

    <!-- ============================================================
         Menu Item Container Style
         ============================================================ -->
    <Style x:Key="ContextMenuItemContainerStyle" TargetType="Border">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="CornerRadius" Value="{StaticResource Radius.MD}"/>
        <Setter Property="Padding" Value="8,0,8,0"/>
        <Setter Property="Height" Value="32"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="{StaticResource ContextMenu.Item.Hover}"/>
            </Trigger>
            <!-- Keep hover background when sub-menu is open -->
            <DataTrigger Binding="{Binding Tag.IsSubMenuOpen, RelativeSource={RelativeSource Self}}" Value="True">
                <Setter Property="Background" Value="{StaticResource ContextMenu.Item.Hover}"/>
            </DataTrigger>
        </Style.Triggers>
    </Style>

    <!-- ============================================================
         Chevron Icon Style (Static, always pointing right)
         ============================================================ -->
    <Style x:Key="ChevronPathStyle" TargetType="Path">
        <Setter Property="Data" Value="{StaticResource ChevronRightPath}"/>
        <Setter Property="Stroke" Value="{StaticResource Brush.Text.Secondary}"/>
        <Setter Property="StrokeThickness" Value="1.5"/>
        <Setter Property="StrokeLineJoin" Value="Round"/>
        <Setter Property="StrokeStartLineCap" Value="Round"/>
        <Setter Property="StrokeEndLineCap" Value="Round"/>
        <Setter Property="Fill" Value="Transparent"/>
        <Setter Property="Width" Value="6"/>
        <Setter Property="Height" Value="10"/>
        <Setter Property="VerticalAlignment" Value="Center"/>
        <Setter Property="HorizontalAlignment" Value="Center"/>
        <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
        <Setter Property="RenderTransform">
            <Setter.Value>
                <RotateTransform Angle="0"/>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ============================================================
         Separator Style
         ============================================================ -->
    <Style x:Key="ContextMenuSeparatorStyle" TargetType="Border">
        <Setter Property="Height" Value="1"/>
        <Setter Property="Background" Value="{StaticResource ContextMenu.Separator}"/>
        <Setter Property="Margin" Value="8,4"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
    </Style>

    <!-- ============================================================
         Menu Text Style - Normal
         ============================================================ -->
    <Style x:Key="ContextMenuTextStyle" TargetType="TextBlock">
        <Setter Property="FontFamily" Value="{StaticResource Font.Family.Primary}"/>
        <Setter Property="FontSize" Value="{StaticResource Font.Size.Base}"/>
        <Setter Property="FontWeight" Value="{StaticResource Font.Weight.Regular}"/>
        <Setter Property="Foreground" Value="{StaticResource Brush.Text.Primary}"/>
        <Setter Property="VerticalAlignment" Value="Center"/>
        <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
    </Style>

    <!-- ============================================================
         Menu Text Style - Destructive (Danger)
         ============================================================ -->
    <Style x:Key="ContextMenuTextDestructiveStyle" TargetType="TextBlock" BasedOn="{StaticResource ContextMenuTextStyle}">
        <Setter Property="Foreground" Value="{StaticResource Brush.Status.Danger}"/>
    </Style>

    <!-- ============================================================
         Menu Text Style - Disabled
         ============================================================ -->
    <Style x:Key="ContextMenuTextDisabledStyle" TargetType="TextBlock" BasedOn="{StaticResource ContextMenuTextStyle}">
        <Setter Property="Foreground" Value="{StaticResource Brush.Text.Disabled}"/>
    </Style>

    <!-- ============================================================
         Main Context Menu Container Style
         ============================================================ -->
    <Style x:Key="ContextMenuContainerStyle" TargetType="Border">
        <Setter Property="Background" Value="{StaticResource Brush.Surface.Primary}"/>
        <Setter Property="BorderBrush" Value="{StaticResource ContextMenu.Border}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="CornerRadius" Value="{StaticResource Radius.LG}"/>
        <Setter Property="Padding" Value="5"/>
        <Setter Property="Effect" Value="{StaticResource Shadow.LG}"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="UseLayoutRounding" Value="True"/>
    </Style>

    <!-- ============================================================
         ScrollViewer Style for Menu
         ============================================================ -->
    <Style x:Key="ContextMenuScrollViewerStyle" TargetType="ScrollViewer">
        <Setter Property="HorizontalScrollBarVisibility" Value="Disabled"/>
        <Setter Property="VerticalScrollBarVisibility" Value="Auto"/>
        <Setter Property="PanningMode" Value="VerticalOnly"/>
        <Setter Property="CanContentScroll" Value="False"/>
    </Style>

</ResourceDictionary>