<Window x:Class="EquipmentDesigner.Views.EditModeSelectionDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:lex="http://wpflocalizeextension.codeplex.com"
        lex:LocalizeDictionary.DesignCulture="ko"
        lex:ResxLocalizationProvider.DefaultAssembly="EquipmentDesigner"
        lex:ResxLocalizationProvider.DefaultDictionary="Resources.Strings"
        mc:Ignorable="d"
        Title="{lex:Loc Key=EditModeSelection_Title}"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        ShowInTaskbar="False"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Width="448" Height="428">

    <!-- Dialog Container -->
    <Border Background="{StaticResource Brush.Surface.Primary}"
            BorderBrush="{StaticResource Brush.Border.Primary}"
            BorderThickness="1"
            CornerRadius="{StaticResource Radius.XL}"
            Padding="24">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Close Button -->
            <Button x:Name="CloseButton"
                    Click="CloseButton_Click"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Top"
                    Width="28" Height="28"
                    Margin="0,-4,-4,0"
                    Padding="4"
                    Background="Transparent"
                    BorderThickness="0"
                    Cursor="Hand">
                <Path Data="M18 6L6 18M6 6l12 12"
                      Stroke="{StaticResource Brush.Text.Secondary}"
                      StrokeThickness="2"
                      Width="12" Height="12"
                      Stretch="Uniform"/>
            </Button>

            <!-- Title -->
            <TextBlock Grid.Row="0"
                       Text="{lex:Loc Key=EditModeSelection_Title}"
                       Style="{StaticResource Typography.H4}"
                       Foreground="{StaticResource Brush.Text.Primary}"/>

            <!-- Option Cards Container -->
            <StackPanel Grid.Row="1" Margin="0,16,0,0">
                <!-- Option 1: Direct Edit -->
                <Border x:Name="DirectEditOption"
                        MouseLeftButtonDown="DirectEditOption_Click"
                        BorderThickness="2"
                        CornerRadius="{StaticResource Radius.LG}"
                        Padding="16"
                        Margin="0,0,0,12"
                        Cursor="Hand"
                        Height="132">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Title -->
                        <TextBlock Grid.Row="0"
                                   Text="{lex:Loc Key=EditModeSelection_DirectEdit_Title}"
                                   FontWeight="Bold"
                                   FontSize="16"
                                   Foreground="{StaticResource Brush.Text.Primary}"/>

                        <!-- Description -->
                        <TextBlock Grid.Row="1"
                                   Text="{lex:Loc Key=EditModeSelection_DirectEdit_Description}"
                                   FontSize="14"
                                   Foreground="{StaticResource Brush.Text.Secondary}"
                                   TextWrapping="Wrap"
                                   Margin="0,8,0,0"/>

                        <!-- Warning -->
                        <TextBlock Grid.Row="3"
                                   Text="{lex:Loc Key=EditModeSelection_DirectEdit_Warning}"
                                   FontSize="12"
                                   Foreground="#F54900"
                                   Margin="0,8,0,0"/>
                    </Grid>
                </Border>

                <!-- Option 2: Create Copy (Recommended) -->
                <Border x:Name="CreateCopyOption"
                        MouseLeftButtonDown="CreateCopyOption_Click"
                        BorderThickness="2"
                        CornerRadius="{StaticResource Radius.LG}"
                        Padding="16"
                        Cursor="Hand"
                        Height="132">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Title -->
                        <TextBlock Grid.Row="0"
                                   Text="{lex:Loc Key=EditModeSelection_CreateCopy_Title}"
                                   FontWeight="Bold"
                                   FontSize="16"
                                   Foreground="{StaticResource Brush.Text.Primary}"/>

                        <!-- Description -->
                        <TextBlock Grid.Row="1"
                                   Text="{lex:Loc Key=EditModeSelection_CreateCopy_Description}"
                                   FontSize="14"
                                   Foreground="{StaticResource Brush.Text.Secondary}"
                                   TextWrapping="Wrap"
                                   Margin="0,8,0,0"/>

                        <!-- Recommendation -->
                        <TextBlock Grid.Row="3"
                                   Text="{lex:Loc Key=EditModeSelection_CreateCopy_Recommendation}"
                                   FontSize="12"
                                   Foreground="#00A63E"
                                   Margin="0,8,0,0"/>
                    </Grid>
                </Border>
            </StackPanel>

            <!-- Confirm Button -->
            <Button x:Name="ConfirmButton"
                    Grid.Row="4"
                    Click="ConfirmButton_Click"
                    Height="44"
                    Cursor="Hand"
                    Margin="0,16,0,0">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="ButtonBorder"
                                Background="{StaticResource Brush.Button.Primary.Background}"
                                CornerRadius="{StaticResource Radius.LG}"
                                Padding="16,8">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource Brush.Button.Primary.Background.Hover}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Button.Template>
                <TextBlock Text="{lex:Loc Key=EditModeSelection_Confirm}"
                           Style="{StaticResource Typography.Button}"
                           Foreground="White"/>
            </Button>
        </Grid>
    </Border>
</Window>
